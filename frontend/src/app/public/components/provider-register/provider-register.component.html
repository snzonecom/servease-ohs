<!-- Title Section -->
<div class="dashboard-header">
  <h1 class="dashboard-title">Service Provider Registration</h1>
  <p class="dashboard-description">Complete your business registration by providing accurate and up-to-date
    information to ensure a seamless and secure experience.</p>
</div>

<!-- Register Area -->
<div class="profile-card-container">
  <p-card class="profile-card">
    <ng-template pTemplate="header">
      <div class="header-content">
        <i class="pi pi-id-card header-icon"></i>
        <span class="header-title">Business Information</span>
      </div>
    </ng-template>
    <div class="card-content">
      <div class="info-row-container">
        <!-- Business Logo -->
        <div class="info-row">
          <label for="businessLogo">Business Logo:</label>
          <div class="upload-container">
            <input type="file" id="businessLogo" accept="image/*" class="file-input"
              (change)="onBusinessLogoSelected($event)" />
            <button class="upload-button" (click)="triggerBusinessLogoInput()">Upload Business Logo</button>
            <img *ngIf="businessLogoPreview" [src]="businessLogoPreview" alt="Business Logo Preview"
              class="image-preview">
          </div>
        </div>

        <!-- Business Name -->
        <div class="info-row">
          <label for="businessName">Business Name:</label>
          <input id="businessName" type="text" [(ngModel)]="providerData.fullName" placeholder="Your Business Name" />
        </div>

        <!-- Email Address -->
        <div class="info-row">
          <label for="email">Email Address:</label>
          <input id="email" type="email" [(ngModel)]="providerData.email" placeholder="contact@business.com" />
        </div>

        <!-- Contact Number -->
        <div class="info-row">
          <label for="contactNumber">Contact Number:</label>
          <input id="contactNumber" type="tel" [(ngModel)]="providerData.contactNumber" placeholder="(123) 456-7890" />
        </div>

        <!-- Office Address -->
        <div class="info-row">
          <label for="officeAdd">Office Address:</label>
          <input id="officeAdd" type="text" [(ngModel)]="providerData.houseAdd" placeholder="123 House Building 45" />
        </div>

        <!-- Barangay Dropdown -->
        <div class="info-row">
          <label for="brgy">Barangay:</label>
          <select id="brgy" [(ngModel)]="providerData.brgy" [disabled]="!barangays.length" class="custom-dropdown" required>
            <option value="" disabled selected>Select your City/Municipality First</option>
            <option *ngFor="let brgy of barangays" [value]="brgy">{{ brgy }}</option>
          </select>
        </div>

        <!-- City/Municipality Dropdown -->
        <div class="info-row">
          <label for="city">City/Municipality:</label>
          <select id="city" [(ngModel)]="providerData.city" (change)="onCityChange()" class="custom-dropdown" [disabled]="!cities.length"
            required>
            <option value="" disabled selected>Select Your Province First</option>
            <option *ngFor="let city of cities" [value]="city.name">{{ city.name }}</option>
          </select>
        </div>

        <!-- Province Dropdown -->
        <div class="info-row">
          <label for="province">Province:</label>
          <select id="province" [(ngModel)]="providerData.province" (change)="onProvinceChange()" class="custom-dropdown" required>
            <option value="" disabled selected>Select Province</option>
            <option *ngFor="let province of provinces" [value]="province.province">{{ province.province }}</option>
          </select>
        </div>

        <!-- Business Registration Number (BRN) -->
        <div class="info-row">
          <label for="brn">Business Registration Number (BRN):</label>
          <input id="brn" type="text" [(ngModel)]="providerData.brn" placeholder="BRN-12345" />
        </div>

        <!-- Contact Person -->
        <div class="info-row">
          <label for="contactPerson">Contact Person:</label>
          <input id="contactPerson" type="text" [(ngModel)]="providerData.contactPerson" placeholder="John Doe" />
        </div>

        <!-- Contact Person ID -->
        <div class="info-row">
          <label for="personID">Contact Person - Identification Card (ID):</label>
          <div class="upload-container">
            <input type="file" id="personID" accept="image/*" class="file-input"
              (change)="onPersonIDSelected($event)" />
            <button class="upload-button" (click)="triggerPersonIDInput()">Upload ID</button>
            <img *ngIf="personIDPreview" [src]="personIDPreview" alt="ID Preview" class="image-preview">
          </div>
        </div>

        <!-- Service Type (Dropdown) -->
        <div class="info-row">
          <label for="serviceType">Service Type:</label>
          <select id="serviceType" [(ngModel)]="providerData.serviceType" class="custom-dropdown">
            <option [ngValue]="null" disabled>Select a Service Type</option>
            <option *ngFor="let category of serviceCategories" [ngValue]="category.category_id">
              {{ category.category_name }}
            </option>
          </select>
        </div>

        <!-- Password -->
        <div class="info-row">
          <label for="password">Password:</label>
          <input id="password" type="password" [(ngModel)]="providerData.password" />
        </div>

        <!-- Confirm Password -->
        <div class="info-row">
          <label for="confirm-password">Confirm Password:</label>
          <input id="confirm-password" type="password" [(ngModel)]="providerData.password_confirmation" />
        </div>

        <!-- Terms and Conditions -->
        <div class="info-row-terms terms-row">
          <label for="terms" class="terms-label">
            <input type="checkbox" id="terms" [(ngModel)]="providerData.acceptTerms" />
            By proceeding, you confirm that you have read, understood, and agree to abide by the
            <a (click)="tncDialogVisible = true" class="terms-condi">Terms and Conditions</a>.
          </label>
        </div>
        <div class="info-row-terms terms-row">
          <label for="verification" class="terms-label">
            <input type="checkbox" id="verification" [(ngModel)]="providerData.acceptVerification" />
            I understand that after submitting my registration, my application will undergo a verification
            process. I will not be able to log in until my profile has been successfully verified.
          </label>
        </div>
      </div>
    </div>
  </p-card>

  <!-- Buttons Outside the Card -->
  <div class="button-container" style="text-align: center; margin-top: 10px;">
    <button pButton type="button" label="Register" class="buttons-below" (click)="registerProvider()"></button>
  </div>
</div>

<!-- Dialog displaying Terms and Conditions -->
<p-dialog header="Terms and Conditions" [modal]="true" [(visible)]="tncDialogVisible" [style]="{ width: '40rem'}">
  <span class="review-text">
    Lorem ipsum dolor sit amet consectetur adipisicing elit. Hic, autem, quis tempore fugiat deleniti ea rerum modi
    repellendus nobis fuga asperiores sapiente. Suscipit corporis laudantium voluptatibus placeat deserunt
    consectetur quia.
  </span>
</p-dialog>