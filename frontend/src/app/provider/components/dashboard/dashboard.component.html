<!-- Dashboard Title Section -->
<div class="dashboard-header">
    <h1 class="dashboard-title">Dashboard</h1>
    <p class="dashboard-description">This is your overview of all activities and transactions.</p>
</div>

<!-- Dashboard Content -->
<div class="dashboard">
    <div class="dashboard-container">
        <div class="column">
            <a routerLink="/provider/provider-transactions" style="text-decoration: none;">
                <div class="card">
                    <div class="card-icon">
                        <i class="pi pi-hourglass"></i>
                    </div>
                    <h3>{{ pendingCount }}</h3>
                    <p>Pending Bookings</p>
                </div>
            </a>
        </div>
        <div class="column">
            <div class="card">
                <div class="card-icon">
                    <i class="pi pi-calendar"></i>
                </div>
                <h3>{{ongoingCount}}</h3>
                <p>Scheduled Bookings</p>
            </div>
        </div>
        <div class="column">
            <div class="card">
                <div class="card-icon">
                    <i class="pi pi-check-square"></i>
                </div>
                <h3>{{completedCount}}</h3>
                <p>Completed Transactions</p>
            </div>
        </div>
    </div>

    <!-- Booking Schedule Section -->
    <div class="booking-schedule">
        <h2>Today's Bookings</h2>

        <!-- Morning Section (9 AM - 12 PM) -->
        <div class="schedule-section" *ngIf="morningBookings.length > 0">
            <h3>üåÖ Morning (9 AM - 12 PM)</h3>
            <div *ngFor="let booking of morningBookings" class="schedule-item">
                <p><strong>Service:</strong>
                    <span *ngFor="let service of booking.services; let i = index">
                        {{ service.service_name }}<span *ngIf="i < booking.services.length - 1">, </span>
                    </span>
                </p>
                <p><strong>Customer:</strong> {{ booking.customer?.name || 'Anonymous' }}</p>
                <p><strong>Address:</strong> {{ booking.customer?.address || 'N/A' }}</p>
                <p><strong>Time:</strong> {{ booking.book_time }}</p>
            </div>
        </div>

        <!-- Afternoon Section (1 PM - 4 PM) -->
        <div class="schedule-section" *ngIf="afternoonBookings.length > 0">
            <h3>üå§Ô∏è Afternoon (1 PM - 4 PM)</h3>
            <div *ngFor="let booking of afternoonBookings" class="schedule-item">
                <p><strong>Service:</strong>
                    <span *ngFor="let service of booking.services; let i = index">
                        {{ service.service_name }}<span *ngIf="i < booking.services.length - 1">, </span>
                    </span>
                </p>
                <p><strong>Customer:</strong> {{ booking.customer?.name || 'Anonymous' }}</p>
                <p><strong>Address:</strong> {{ booking.customer?.address || 'N/A' }}</p>
                <p><strong>Time:</strong> {{ booking.book_time }}</p>
            </div>
        </div>

        <!-- Evening Section (5 PM - 8 PM) -->
        <div class="schedule-section" *ngIf="eveningBookings.length > 0">
            <h3>üåô Evening (5 PM - 8 PM)</h3>
            <div *ngFor="let booking of eveningBookings" class="schedule-item">
                <p><strong>Service:</strong>
                    <span *ngFor="let service of booking.services; let i = index">
                        {{ service.service_name }}<span *ngIf="i < booking.services.length - 1">, </span>
                    </span>
                </p>
                <p><strong>Customer:</strong> {{ booking.customer?.name || 'Anonymous' }}</p>
                <p><strong>Address:</strong> {{ booking.customer?.address || 'N/A' }}</p>
                <p><strong>Time:</strong> {{ booking.book_time }}</p>
            </div>
        </div>

        <!-- No Bookings Placeholder -->
        <ng-template #noBookings>
            <p>No bookings for today.</p>
        </ng-template>
    </div>

</div>