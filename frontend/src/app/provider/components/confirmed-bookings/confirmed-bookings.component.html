<!-- Confirmed Bookings Title Section -->
<div class="dashboard-header">
    <h1 class="dashboard-title">Scheduled Bookings</h1>
    <p class="dashboard-description">
        Keep track of your upcoming appointments effortlessly! View and manage all confirmed bookings in one place and
        stay organized.
    </p>
</div>

<!-- Confirmed Bookings Section -->
<div class="pending-bookings-content">
    <div class="columns-container">
        <!-- Loop through bookings array and generate cards -->
        <div *ngFor="let booking of bookings" class="card">
            <div class="card-content">
                <h3>{{ booking.availingService }}</h3>
                <div class="info">
                    <i class="pi pi-user"></i>
                    <p>{{ booking.customerName }}</p>
                </div>
                <div class="info">
                    <i class="pi pi-calendar"></i>
                    <p>{{ booking.bookingDate }}</p>
                </div>
                <div class="info">
                    <i class="pi pi-clock"></i>
                    <p>{{ booking.bookingTime }}</p>
                </div>
                <div class="info">
                    <i class="pi pi-map-marker"></i>
                    <p>{{ booking.customerAddress }}</p>
                </div>
                <button class="see-booking-btn" (click)="showBookingDetails(booking)">View Booking Transaction</button>
            </div>
        </div>
    </div>
</div>

<!-- Dialog displaying the details of the booking -->
<p-dialog header="Confirmed Booking Information" [modal]="true" [(visible)]="visible" [style]="{ width: '40rem'}">
    <span class="review-text">
        Kindly review the booking details below and ensure everything is in order. Double-check if you may have missed any important information or specific requests from the customer to ensure a smooth and successful appointment.
    </span>
    

    <!-- Form Fields displaying customer booking details -->
    <div class="flex flex-column gap-3 mb-3">
        <label for="customerName" class="field-label">
            <span class="label-text">
                <i class="pi pi-user"></i> Customer Name
            </span>
            <input pInputText id="customerName" [(ngModel)]="selectedBooking.customerName" [disabled]="true"
                class="field-input" />
        </label>

    </div>

    <div class="flex flex-column gap-3 mb-3">
        <label for="contactNumber" class="field-label">
            <span class="label-text">
                <i class="pi pi-phone"></i> Contact Number</span>
            <input pInputText id="contactNumber" [(ngModel)]="selectedBooking.contactNumber" [disabled]="true"
                class="field-input" />
        </label>
    </div>

    <div class="flex flex-column gap-3 mb-3">
        <label for="email" class="field-label">
            <span class="label-text">
                <i class="pi pi-envelope"></i> Email Address</span>
            <input pInputText id="email" [(ngModel)]="selectedBooking.customerEmail" [disabled]="true"
                class="field-input" />
        </label>
    </div>

    <div class="flex flex-column gap-3 mb-3">
        <label for="service" class="field-label">
            <span class="label-text">
                <i class="pi pi-wrench"></i> Availing Service/s</span>
            <input pInputText id="service" [(ngModel)]="selectedBooking.availingService" [disabled]="true"
                class="field-input" />
        </label>
    </div>

    <div class="flex flex-column gap-3 mb-3">
        <label for="bookingDate" class="field-label">
            <span class="label-text">
                <i class="pi pi-calendar"></i> Booking Date</span>
            <input pInputText id="bookingDate" [(ngModel)]="selectedBooking.bookingDate" [disabled]="true"
                class="field-input" />
        </label>
    </div>

    <div class="flex flex-column gap-3 mb-3">
        <label for="bookingTime" class="field-label">
            <span class="label-text">
                <i class="pi pi-clock"></i> Booking Time</span>
            <input pInputText id="bookingTime" [(ngModel)]="selectedBooking.bookingTime" [disabled]="true"
                class="field-input" />
        </label>
    </div>

    <div class="flex flex-column gap-3 mb-3">
        <label for="remarks" class="field-label">
            <span class="label-text">
                <i class="pi pi-comment"></i> Remarks</span>
            <textarea pInputTextarea id="remarks" [(ngModel)]="selectedBooking.remarks" [disabled]="true"
                class="field-input" rows="4"></textarea>
        </label>
    </div>

    <!-- Buttons for Cancellation/Marking Complete the booking -->
    <div class="flex-right">
        <button pButton label="Booking Cancelled" class="reject-button" (click)="rejectBooking()"></button>
        <button pButton label="Service Completed" class="approve-button" (click)="acceptBooking()"></button>
    </div>
</p-dialog>