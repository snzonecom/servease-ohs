<!-- Columns Bar -->
<div class="container">
    <div class="row">
        <!-- First Column - Left with Business Information, Services, and Feedback -->
        <div class="column">
            <div class="card">
                <p-card class="full-width-card">
                    <div class="card-content">
                        <!-- Business Information -->
                        <div class="business-info">
                            <img [src]="provider.profile_pic" alt="Business Logo" class="business-logo">
                            <h3 class="business-name">{{ provider.provider_name }}</h3>
                            <p class="business-email"><i class="pi pi-envelope"></i> {{ provider.email }}</p>
                            <p class="business-address"><i class="pi pi-map-marker"></i> {{ provider.location }}</p>
                            <button class="book-now-btn"
                                onclick="document.getElementById('book-now-section').scrollIntoView({behavior: 'smooth'})">
                                Book a Service with Them
                            </button>
                        </div>

                        <!-- Line Separator -->
                        <hr />

                        <!-- Offered Services -->
                        <div class="offered-services">
                            <h2>Offered Services</h2>
                            <div class="services">
                                <p-card *ngFor="let service of availableServices" class="service-card">
                                    <div class="service-header">
                                        <h3>{{ service.service_name }}</h3>
                                    </div>
                                    <div class="service-content">
                                        <p>{{ service.service_description }}</p>
                                        <div class="service-price">
                                            <span class="price">Starting from ₱{{ service.price_start }}</span>
                                        </div>
                                    </div>
                                </p-card>
                            </div>
                        </div>



                        <!-- Line Separator -->
                        <hr />

                        <!-- ⭐ Ratings & Feedbacks Section -->
                        <div class="feedbacks">
                            <h2>Ratings & Feedbacks</h2>
                            <div class="feedback-cards">
                              <div *ngFor="let feedback of displayedFeedbacks" class="feedback-card">
                                <div class="feedback-header">
                                  <h3>{{ feedback.clientName }}</h3>
                                </div>
                                <div class="feedback-content">
                                    <div class="rating">
                                        <!-- Filled Stars -->
                                        <ng-container *ngFor="let star of getFilledStars(feedback.rating)">
                                          <span class="star" style="color: gold;">&#9733;</span>
                                        </ng-container>
                                      
                                        <!-- Empty Stars -->
                                        <ng-container *ngFor="let star of getEmptyStars(feedback.rating)">
                                          <span class="star" style="color: gray;">&#9734;</span>
                                        </ng-container>
                                      </div>
                                      
                                  <div class="feedback-text">
                                    <p>{{ feedback.reviewText }}</p>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          

                    </div>
                </p-card>
            </div>
        </div>


        <!-- Second Column - Right -->
        <div class="column">
            <div class="card">
                <!-- Book Now Section -->
                <div id="book-now-section" class="book-now">
                    <h2>Book Now</h2>
                    <div class="booking-form">
                        <!-- Select Services Section -->
                        <div class="book-now-form-group">
                            <label>Select Services to Avail</label>
                            <div class="book-now-services-grid">
                                <div *ngFor="let service of availableServices" [class.selected]="service.isSelected"
                                    class="book-now-service-card" (click)="toggleServiceSelection(service)">
                                    <h3>{{ service.service_name }}</h3>
                                    <span class="price">Starting price <br> ₱{{ service.price_start }}</span>
                                </div>
                            </div>
                        </div>


                        <!-- Select Date Section -->
                        <div class="book-now-form-group">
                            <label for="booking-date">Select Date</label>
                            <input type="date" id="booking-date" class="form-control" />
                        </div>

                        <!-- Select Time Section -->
                        <div class="book-now-form-group">
                            <label for="booking-time">Select Available Time</label>
                            <select id="booking-time" class="form-control">
                                <option value="" disabled selected>Choose a time slot</option>
                                <option value="Morning (9:00 AM - 12:00 PM)">Morning (9:00 AM - 12:00 PM)</option>
                                <option value="Afternoon (1:00 PM - 4:00 PM)">Afternoon (1:00 PM - 4:00 PM)</option>
                                <option value="Evening (5:00 PM - 8:00 PM)">Evening (5:00 PM - 8:00 PM)</option>
                            </select>
                        </div>

                        <!-- Book Now Button -->
                        <div class="book-now-form-group">
                            <button class="book-now-btn" (click)="showConfirmation()">Submit Booking</button>
                        </div>
                    </div>
                </div>

            </div>
        </div>


    </div>
</div>