<body>
    <!-- Header Section: A short message to welcome the user -->
    <div class="header-message">
        <p>List of Service Categories</p>
    </div>

    <!-- Search Bar and Button -->
    <div class="search-add-container">
        <input type="text" class="search-bar" [(ngModel)]="searchQuery"
            placeholder="Search for a service category..." />
        <button class="add-button" (click)="showAddDialog()">Add a New Category</button>
    </div>

    <!-- Cards Container for Service Categories -->
    <div class="cards-container">
        <div class="custom-card" *ngFor="let service of filteredServices">
            <div class="card-row">
                <div class="number-container">
                    <h2>{{ service.category_name }}</h2>
                </div>
                <div class="icon-container">
                    <i class="pi pi-th-large"></i>
                </div>
            </div>
            <div class="card-row">
                <div class="description-container">
                    <p>{{ service.category_description }}</p>
                </div>
            </div>
            <div class="button-row">
                <button class="edit-button" (click)="showEditDialog(service)">Edit this Service Category</button>
            </div>
        </div>
    </div>

    <!-- Add New Category Dialog -->
    <p-dialog header="Add New Service Category" [(visible)]="addDialogVisible" [modal]="true"
        [style]="{ width: '40rem' }">
        <div class="flex flex-column align-items-start gap-3 mb-3">
            <label for="categoryName" class="font-semibold">
                Service Name
            </label>
            <input pInputText [(ngModel)]="newCategory.category_name" placeholder="Enter service name" class="w-full" />
        </div>

        <div class="flex flex-column align-items-start gap-3 mb-3">
            <label for="categoryDescription" class="font-semibold">
                Service Description
            </label>
            <textarea pInputText [(ngModel)]="newCategory.category_description" placeholder="Enter service name"
                class="w-full">Enter service description</textarea>
        </div>

        <div class="flex justify-content-end gap-2">
            <button p-button (click)="addDialogVisible = false" class="cancel-button">
                Cancel
            </button>
            <button p-button (click)="addServiceCategory()" class="submit-button">
                Add New Category
            </button>
        </div>
    </p-dialog>

    <!-- Edit Service Category Dialog -->
    <p-dialog header="Edit Service Category" [(visible)]="editDialogVisible" [modal]="true"
        [style]="{ width: '40rem' }">
        <div class="flex flex-column align-items-start gap-3 mb-3">
            <label for="categoryName" class="font-semibold">
                Service Name
            </label>
            <input pInputText [(ngModel)]="selectedCategory.category_name" />
        </div>

        <div class="flex flex-column align-items-start gap-3 mb-3">
            <label for="categoryDescription" class="font-semibold">
                Service Description
            </label>
            <textarea pInputText [(ngModel)]="selectedCategory.category_description"></textarea>
        </div>

        <div class="flex justify-content-end gap-2">
            <button p-button (click)="deleteServiceCategory(selectedCategory.category_id)" class="cancel-button">
                Delete This Category
            </button>
            <button p-button (click)="updateServiceCategory()" class="submit-button">
                Save New Changes
            </button>
        </div>
    </p-dialog>
</body>